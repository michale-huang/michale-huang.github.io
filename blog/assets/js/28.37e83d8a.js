(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{375:function(s,a,e){"use strict";e.r(a);var t=e(43),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"一台设备配置多个ssh-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一台设备配置多个ssh-key"}},[s._v("#")]),s._v(" 一台设备配置多个ssh key")]),s._v(" "),e("h2",{attrs:{id:"_1-生成ssh-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-生成ssh-key"}},[s._v("#")]),s._v(" 1.生成ssh key:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('$ ssh-keygen -t rsa -C "your_email@example.com"\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa): /Users/rice/.ssh/id_rsa_test\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again: \n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("上方的命令执行多次则会生成多个ssh key, 注意区别命名,如果不输入文件名，则会自动生成一对id_rsa, id_rsa.pub文件")]),s._v(" "),e("p",[s._v("可通过cat命令查看，如")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ cat ~/.ssh/id_rsa_test.pub\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("公钥大概长这样子")]),s._v(" "),e("p",[e("code",[s._v("ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3 Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx NrRFi9wrf+M7Q== schacon@agadorlaptop.local")])]),s._v(" "),e("h2",{attrs:{id:"_2-为不同网站应用ssh-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-为不同网站应用ssh-key"}},[s._v("#")]),s._v(" 2.为不同网站应用ssh key")]),s._v(" "),e("p",[s._v("修改.ssh下的config文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ sudo vim ~/.ssh/config\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("加上以下配置：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Host github.com\n    HostName github.com\n    User git\n    IdentityFile ~/.ssh/id_rsa_a\n\nHost git.oschina.net\n    HostName git.oschina.net\n    User git\n    IdentityFile ~/.ssh/id_rsa_b\n\nHost test\n HostName xxx.xxx.x.xx\n User test\n IdentityFile ~/.ssh/id_rsa_c\n PreferredAuthentications publickey\n...\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h2",{attrs:{id:"_3-将对应的公钥添加至对应的网站"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-将对应的公钥添加至对应的网站"}},[s._v("#")]),s._v(" 3.将对应的公钥添加至对应的网站")]),s._v(" "),e("h2",{attrs:{id:"_4-为项目单独配置身份信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-为项目单独配置身份信息"}},[s._v("#")]),s._v(" 4.为项目单独配置身份信息")]),s._v(" "),e("p",[s._v("像 github 或者 gitlab等网站都会要求验证身份,通常情况下配置一个全局信息就可以了:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('$ git config --global user.name "Firstname Lastname"\n$ git config --global user.email "your_email@example.com"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("这个命令会在~/.gitconfig填入以下信息：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[user]\n  name = Firstname Lastname\n  email = your_email@example.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("如果需要修改信息，直接修改这个文件即可。")]),s._v(" "),e("p",[s._v("针对一些特殊情况，如果需要配置多个身份信息，可以为每个项目单独配置:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('$ cd your_project\n$ git config user.name "Firstname Lastname"\n$ git config user.email "your_email@example.com"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("这个命令会在项目目录下输出文件：/.git／.config")]),s._v(" "),e("p",[s._v("这里设置的姓名和邮箱地址会用在 Git 的提交日志中。")]),s._v(" "),e("p",[s._v("至此查看是否成功了，如果不成功，尝试debug, 比如测试github，"),e("code",[s._v("ssh -vT git@github.com")]),s._v(",根据log信息修改即可")]),s._v(" "),e("p",[s._v("中间遇到一个报错")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ssh: Could not resolve hostname xxx nodename nor servname provided, or not known\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将远程仓库的地址修改为非"),e("code",[s._v("ssh://")]),s._v("即可：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("git remote remove xxx\ngit remote add xxx git://....\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);